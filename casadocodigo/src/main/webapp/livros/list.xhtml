<html xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">

    <h:head>

    </h:head>
    <h:body>

        <div>
            Seja bem vindo, #{currentUser.get().email}
        </div>

        <h:messages/>

        <p:dataTable value="#{adminListBookBeans.books}" var="book" rowIndexVar="status">

            <p:column headerText="Título">
                #{book.title}
            </p:column>

            <p:column headerText="Nº de Páginas">
                #{book.numberOfPages}
            </p:column>

            <p:column headerText="Autores">

                <ui:repeat value="#{book.authors}" var="author" varStatus="status">
                    #{author.name} <h:outputText value="|" rendered="#{not status.last}"/>
                </ui:repeat>
            </p:column>

            <p:column headerText="Sumário">
                <h:outputLink value="#{book.summaryPath}" rendered="#{book.summaryPath != null}">
                    Sumário
                </h:outputLink>
            </p:column>


            <p:column headerText="Capa">
                <h:outputLink value="#{book.coverPath}"  rendered="#{book.coverPath != null}">
                    Capa
                </h:outputLink>
            </p:column>

        </p:dataTable>

    </h:body>
</html>